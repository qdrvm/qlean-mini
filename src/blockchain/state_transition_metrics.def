/**
 * Copyright Quadrivium LLC
 * All Rights Reserved
 * SPDX-License-Identifier: Apache-2.0
 */

/// State Transition Function metrics definitions

// Latest justified slot
// On state transition
METRIC_GAUGE(stf_latest_justified_slot,
             "lean_latest_justified_slot",
             "Latest justified slot")

// Latest finalized slot
// On state transition
METRIC_GAUGE(stf_latest_finalized_slot,
             "lean_latest_finalized_slot",
             "Latest finalized slot")

// Finalization attempts counter
// On finalization attempt; result=success,error
METRIC_COUNTER_LABELS(stf_finalizations_total,
                      "lean_finalizations_total",
                      "Total number of finalization attempts",
                      {result})

// State transition duration
// On state transition
METRIC_HISTOGRAM(stf_state_transition_time,
                 "lean_state_transition_time_seconds",
                 "Time to process state transition",
                 (0.25, 0.5, 0.75, 1, 1.25, 1.5, 2, 2.5, 3, 4))

// Slot processing counter
// On slot processing during state transition
METRIC_COUNTER(stf_slots_processed_total,
               "lean_state_transition_slots_processed_total",
               "Total number of processed slots")

// Slot processing duration
// On slot processing during state transition
METRIC_HISTOGRAM(stf_slots_processing_time,
                 "lean_state_transition_slots_processing_time_seconds",
                 "Time taken to process slots",
                 (0.005, 0.01, 0.025, 0.05, 0.1, 1))

// Block processing duration
// On block processing during state transition
METRIC_HISTOGRAM(stf_block_processing_time,
                 "lean_state_transition_block_processing_time_seconds",
                 "Time taken to process block",
                 (0.005, 0.01, 0.025, 0.05, 0.1, 1))

// Attestation processing counter
// On attestation processing during state transition
METRIC_COUNTER(stf_attestations_processed_total,
               "lean_state_transition_attestations_processed_total",
               "Total number of processed attestations")

// Attestation processing duration
// On attestation processing during state transition
METRIC_HISTOGRAM(stf_attestations_processing_time,
                 "lean_state_transition_attestations_processing_time_seconds",
                 "Time taken to process attestations",
                 (0.005, 0.01, 0.025, 0.05, 0.1, 1))